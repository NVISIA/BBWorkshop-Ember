<!DOCTYPE html>
<!--
  ~ The MIT License (MIT)
  ~
  ~ Copyright (c) 2014 Â© NVISIA, LLC.
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy
  ~ of this software and associated documentation files (the "Software"), to deal
  ~ in the Software without restriction, including without limitation the rights
  ~ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  ~ copies of the Software, and to permit persons to whom the Software is
  ~ furnished to do so, subject to the following conditions:
  ~
  ~ The above copyright notice and this permission notice shall be included in
  ~ all copies or substantial portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  ~ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  ~ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  ~ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  ~ THE SOFTWARE.
  -->
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Backbone SPA Workshop - Restaurant Reservation System</title>

    <link rel="stylesheet" href="css/base.css"/>

    <script type="text/javascript" src="libs/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="libs/underscore.js"></script>
    <script type="text/javascript" src="libs/handlebars-v1.3.0.js"></script>
    <script type="text/javascript" src="libs/ember-1.3.0.js"></script>
    <script type="text/javascript" src="libs/ember-data.js"></script>
    <script type="text/javascript" src="js/handlebars-helpers.js"></script>
    <script type="text/javascript" src="js/application.js"></script>
    <script type="text/javascript" src="js/restaurant.js"></script>
    <script type="text/javascript" src="js/reservations.js"></script>
    <script type="text/javascript" src="js/vlad.js"></script>
</head>

<body class="restaurant">
    <script type="text/x-handlebars">
        <div class="row">
            <div class="large-12 columns">
                <div style="display: inline-block;">
                    <img src="img/icon_01.png" width="90px;"/>
                </div>
                <div style="display: inline-block;">
                    <h1 class="title-main">Easy Reservations</h1>

                    <p class="title-sub">Simply choose a restaurant, a time, and submit your reservation!</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="large-8 medium-8 columns">{{outlet}}</div>

            <div class="large-4 medium-4 columns">
                <div class="panel">
                    <h5>Welcome Back!</h5>

                    <a href="/logout" class="small button">Logout</a>
                </div>
                <div class="panel">
                    <h5>There is so much more!</h5>

                    <p>This is but one example with Backbone, there is so much more possible!</p>
                    <a href="http://backbonejs.org/#Events" class="small button">Go to Backbone.js Docs</a>
                </div>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="index">
        <div class="restaurant-list">
            {{#each}}
            <div class="row">
                <div class="large-12 columns">
                    <div class="callout panel">
                        <p><strong>{{name}}</strong>{{#if tagline}}<br/>{{/if}}{{tagline}}</p>
                        <div class="row">
                            <div class="large-3 medium-6 small-12 columns">
                                <p>Price: {{showPrice price}}</p>
                            </div>
                            <div class="large-3 medium-6 small-12 columns">
                                <p>Rating: {{showRating rating}}</p>
                            </div>
                            <div class="large-6 medium-12 small-12 columns">
                                <p>Address: {{address}}</p>
                            </div>
                        </div>
                        <p>Description: {{description}} </p>
                        {{#link-to 'restaurant' this class="button restaurantRow white"}}ShowTimes{{/link-to}}
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="restaurant">
        <div class="row">
            <div class="large-12 columns">
                <div class="callout panel">
                    <p><strong>{{name}}</strong>{{#if tagline}}<br/>{{/if}}{{tagline}}</p>
                    <div class="row">
                        <div class="large-3 medium-6 small-12 columns">
                            <p>Price: {{showPrice price}}</p>
                        </div>
                        <div class="large-3 medium-6 small-12 columns">
                            <p>Rating: {{showRating rating}}</p>
                        </div>
                        <div class="large-6 medium-12 small-12 columns">
                            <p>Address: {{address}}</p>
                        </div>
                    </div>
                    <p>Description: {{description}} </p>
                    <div class="availableTimes">
                        <form>
                            <fieldset>
                                <legend>Available Times</legend>
                                <div class="row">
                                    {{#each availableTimes}}
                                    <div class="large-3 medium-4 small-6 columns availableTime">
                                        {{#link-to 'reservationForm' this}}{{showTime this}}{{/link-to}}
                                    </div>
                                    {{/each}}
                                </div>
                            </fieldset>
                        </form>
                    </div>
                    <div class="reservationForm">{{outlet}}</div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="reservationForm">
        <div class="row">
            <div class="large-12 columns">
                <div class="panel">
                    <h5>The reservation form:</h5>
                    <form>
                        <div class="row">
                            <div class="large-6 columns">
                                <h5><label>Selected Time:</label>{{showTime time}}</h5>
                            </div>
                            <div class="large-6 columns">
                                <label>Number of Guests</label>
                                {{input type="number" name="guests" placeholder="#" value=guests}}
                            </div>
                        </div>

                        <div class="row">
                            <div class="large-12 columns">
                                <label>Name:</label>
                                {{input type="text" name="name" placeholder="Enter your full name" value=name}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="large-6 medium-6 columns">
                                <label>Phone:</label>
                                {{input type="text" name="phone" placeholder="###-###-####" value=phone}}
                            </div>
                            <div class="large-6 medium-6 columns">
                                <label>Email:</label>
                                {{input type="text" name="email" placeholder="user@domain.ext" value=email}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="large-8 medium-8 columns">
                                <label>Seating:</label>
                                <input type="radio" name="location" id="noPreference"><label for="noPreference">No Preference</label>
                                <input type="radio" name="location" id="outside"><label for="outside">Outside</label>
                                <input type="radio" name="location" id="inside"><label for="inside">Inside</label>
                            </div>
                            <div class="large-4 medium-4 columns">
                                <label>Other Info:</label>
                                {{input name="isSpecialOccasion" id="specialOccasion" type="checkbox"}}<label for="specialOccasion">Special Occasion</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="large-12 columns">
                                <label>Special Requests:</label>
                                {{textarea name="specialRequests" placeholder="Enter any special requests here."}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="small-12 medium-12 large-12 small-centered columns">
                                <button class="small radius button submitButton" {{action "submit" this on="click"}}>Make Reservation</button>
                                <button class="small radius secondary button cancelButton" {{action "cancel" this on="click"}}>Cancel</button>
                            </div>
                        </div>
                    </form>
                    <div class="error-box" style="display:none;">
                        <ul class="error-list"></ul>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type='text/x-handlebars' data-template-name='reservation'>
        <div class="row">
            <div class="large-12 columns">
                <div class="callout panel">
                    <div class="row">
                        <h4>Reservation successfully created for:</h4>
                        <p><strong>{{controllers.restaurant.name}}</strong></p>
                        <div class="large-6 medium-12 small-12 columns" style="margin-bottom:15px;">
                            <label>Name: </label><span>{{ name }}</span>
                        </div>
                        <div class="large-6 medium-12 small-12 columns" style="margin-bottom:15px;">
                            <label>Phone Number: </label><span>{{ phone }}</span>
                        </div>
                        <div class="large-6 medium-12 small-12 columns" style="margin-bottom:15px;">
                            <label># of Guests: </label><span>{{ guests }}</span>
                        </div>
                        <div class="large-6 medium-12 small-12 columns" style="margin-bottom:15px;">
                            <label>Time: </label><span>{{showTime time }}</span>
                        </div>
                    </div>
                    <button class="reset">Return to Restaurant List</button>
                </div>
            </div>
        </div>
    </script>

    <link rel="stylesheet" href="css/foundation.css"/>
    <script type="text/javascript" src="libs/modernizr.js"></script>
    <script type="text/javascript" src="libs/foundation.min.js"></script>
<script>
    $(document).ready( function() {
        $(document).foundation();
    });
</script>

</body>
</html>
